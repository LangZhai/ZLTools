/**
 * ZLTools
 * Date: 2016-06-15
 * © 2016 LangZhai(智能小菜菜)
 * This is licensed under the GNU LGPL, version 3 or later.
 * For details, see: http://www.gnu.org/licenses/lgpl.html
 * Project home: https://github.com/LangZhai/ZLTemplate
 */
var params=eval({});!function(t){var n=t(window);t.each(location.search.substr(1).split("&"),function(t,n){var e=n.split("=");params[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}),Math.round2=function(t,n){return Math.round(t*Math.pow(10,n))/Math.pow(10,n)},Function.prototype.bind||(Function.prototype.bind=function(t){var n=Array.prototype.slice.call(arguments,1),e=this,o=function(){},a=function(){return e.apply(this instanceof o&&t?this:t,n.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,a.prototype=new o,a}),String.prototype.replaceAll=function(t,n,e){return RegExp.prototype.isPrototypeOf(t)?this.replace(t,n):this.replace(RegExp(t,e?"gi":"g"),n)},t.fn.serializeObject=function(){var n={};return t.each(t(this).serializeArray(),function(e,o){void 0!==n[o.name]?(t.isArray(n[o.name])||(n[o.name]=[n[o.name]]),n[o.name].push(o.value)):n[o.name]=o.value}),n},t.fn.placeholder=function(n){return t(this).each(function(){var e=t(this),o=e.attr("placeholder"),a=e.data("color")||e.css("color"),r=function(){e.css("color",n).val(o).data("length",!1)};void 0!==o&&(""===o&&(o="请输入内容"),void 0===n&&(n="#999999"),e.data("length")||(void 0===e.data("length")&&e.val().length?e.data("length",!0):r()),e.off(".placeholder").on({"focus.placeholder":function(){e.data("length")||e.css("color",a).val("")},"blur.placeholder":function(){e.val().length?t.trim(e.val())===o?r():e.css("color",a).data("length",!0):r()}}).data("color",a).removeAttr("placeholder").triggerHandler("blur.placeholder"))})},t.fn.anchor=function(e){var o,a=t(this),r=a.data("id")||(new Date).getTime(),i={position:a.css("position"),display:a.css("display"),top:a.css("top")};return a.data("id",r),e=e||{},e.anchor=e.anchor||a,e.anchor=e.anchor instanceof t?e.anchor:t(e.anchor),o=e.anchor.offset(),n.off(".anchor"+r).on("scroll.anchor"+r+" resize.anchor"+r,function(){n.height()-a.outerHeight()>0&&n.scrollTop()>o.top+(e.isBottom?e.anchor.height():0)?a.data("anchor")||a.css(t.extend({},i,{position:"fixed",display:"block",top:0})).data("anchor",!0):a.data("anchor")&&(a.css(i).data("anchor",!1),o=e.anchor.offset())}).triggerHandler("scroll.anchor"+r),a},t.fn.boxCut=function(e){return t(this).each(function(){var o,a=t(this),r=a.data("id")||(new Date).getTime();a.data("text",a.text()).data("id",r),n.off(".boxCut"+r).on("resize.boxCut"+r,function(){if(o=a.data("text"),a.text(o),a.height()>e){do o=a.text(),a.text(o.substring(0,o.length-1));while(a.height()>e);o=o.substring(0,o.length-2),a.text(o+"…")}}).triggerHandler("resize.anchor"+r)})},t.fn.inputCheck=function(n){return!n instanceof RegExp&&(n=/^[\s\S]*$/),t(this).off(".inputCheck").on("keyup.inputCheck input.inputCheck",function(){for(var e=t(this).data("valid",!0),o=e.val();o.length&&!n.test(o);)o=o.substring(0,o.length-1),e.data("valid",!1).val(o)}).triggerHandler("keyup.inputCheck")}}($);