/**
 * ZLTools
 * Date: 2016-09-07
 * © 2016 LangZhai(智能小菜菜)
 * This is licensed under the GNU LGPL, version 3 or later.
 * For details, see: http://www.gnu.org/licenses/lgpl.html
 * Project home: https://github.com/LangZhai/ZLTools
 */
var params=eval({});!function(t){var e=t(window);t.each(location.search.substr(1).split("&"),function(t,e){var n=e.split("=");params[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}),Object.getVal=function(e,n){return t.each(n.split("."),function(t,n){return e=e[n],void 0===e?!1:void 0}),e},Object.setVal=function(e,n,o){n=n.split("."),t.each(n,function(t,a){return t===n.length-1?void(e[a]="function"==typeof o?o(e[a]):o):(void 0===e[a]&&(e[a]={}),void(e=e[a]))})},Object.encodeEntity=function(e){return e instanceof Object?(e=t.extend(e instanceof Array?[]:{},e),t.each(e,function(t,n){e[t]=Object.encodeEntity(n)})):"string"==typeof e&&(e=e.replaceAll("&","&amp;").replaceAll(">","&gt;").replaceAll("<","&lt;").replaceAll('"',"&quot;").replaceAll("'","&#x27;")),e},Object.decodeEntity=function(e){return e instanceof Object?(e=t.extend(e instanceof Array?[]:{},e),t.each(e,function(t,n){e[t]=Object.decodeEntity(n)})):"string"==typeof e&&(e=e.replaceAll("&amp;","&").replaceAll("&gt;",">").replaceAll("&lt;","<").replaceAll("&quot;",'"').replaceAll("&#x27;","'")),e},Math.round2=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=Array.prototype.slice.call(arguments,1),n=this,o=function(){},a=function(){return n.apply(this instanceof o&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,a.prototype=new o,a}),String.prototype.replaceAll=function(t,e,n){return RegExp.prototype.isPrototypeOf(t)?this.replace(t,e):this.replace(RegExp(t,n?"gi":"g"),e)},t.fn.serializeObject=function(){var e={};return t.each(t(this).serializeArray(),function(n,o){void 0!==e[o.name]?(t.isArray(e[o.name])||(e[o.name]=[e[o.name]]),e[o.name].push(o.value)):e[o.name]=o.value}),e},t.fn.placeholder=function(e){return t(this).each(function(){var n=t(this),o=n.attr("placeholder"),a=n.data("color")||n.css("color"),r=function(){n.css("color",e).val(o).data("length",!1)};void 0!==o&&(""===o&&(o="请输入内容"),void 0===e&&(e="#999999"),n.data("length")||(void 0===n.data("length")&&n.val().length?n.data("length",!0):r()),n.off(".placeholder").on({"focus.placeholder":function(){n.data("length")||n.css("color",a).val("")},"blur.placeholder":function(){n.val().length?t.trim(n.val())===o?r():n.css("color",a).data("length",!0):r()}}).data("color",a).removeAttr("placeholder").triggerHandler("blur.placeholder"))})},t.fn.anchor=function(n){var o,a=t(this),r=a.data("id")||(new Date).getTime(),c={position:a.css("position"),display:a.css("display"),top:a.css("top")};return a.data("id",r),n=n||{},n.anchor=n.anchor||a,n.anchor=n.anchor instanceof t?n.anchor:t(n.anchor),o=n.anchor.offset(),e.off(".anchor"+r).on("scroll.anchor"+r+" resize.anchor"+r,function(){e.height()-a.outerHeight()>0&&e.scrollTop()>o.top+(n.isBottom?n.anchor.height():0)?a.data("anchor")||a.css(t.extend({},c,{position:"fixed",display:"block",top:0})).data("anchor",!0):a.data("anchor")&&(a.css(c).data("anchor",!1),o=n.anchor.offset())}).triggerHandler("scroll.anchor"+r),a},t.fn.boxCut=function(n){return t(this).each(function(){var o,a=t(this),r=a.data("id")||(new Date).getTime();a.data("text",a.text()).data("id",r),e.off(".boxCut"+r).on("resize.boxCut"+r,function(){if(o=a.data("text"),a.text(o),a.height()>n){do o=a.text(),a.text(o.substring(0,o.length-1));while(a.height()>n);o=o.substring(0,o.length-2),a.text(o+"…")}}).triggerHandler("resize.boxCut"+r)})},t.fn.inputCheck=function(e,n){return t(this).each(function(){var o=t(this).off(".inputCheck").on("keyup.inputCheck input.inputCheck",function(){var t=o.val();clearTimeout(o.timeout),o.timeout=setTimeout(function(){for(;t.length&&!a.test(t);)t=t.substring(0,t.length-1),o.val(t)},void 0===n?1e3:n)}),a=o.data("check");null!=a?a=RegExp(a):(e instanceof RegExp||(e=/^[\s\S]*$/),a=e)})}}($);