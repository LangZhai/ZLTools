/**
 * ZLTools
 * Date: 2016-04-21
 * © 2016 LangZhai(智能小菜菜)
 * This is licensed under the GNU LGPL, version 3 or later.
 * For details, see: http://www.gnu.org/licenses/lgpl.html
 * Project home: https://github.com/LangZhai/ZLTemplate
 */
var params=eval({});!function(t){var o=t(window);t.each(location.search.substr(1).split("&"),function(t,o){var a=o.split("=");params[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}),Math.round2=function(t,o){return Math.round(t*Math.pow(10,o))/Math.pow(10,o)},Function.prototype.bind||(Function.prototype.bind=function(t){var o=Array.prototype.slice.call(arguments,1),a=this,n=function(){},e=function(){return a.apply(this instanceof n&&t?this:t,o.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,e.prototype=new n,e}),String.prototype.replaceAll=function(t,o,a){return RegExp.prototype.isPrototypeOf(t)?this.replace(t,o):this.replace(RegExp(t,a?"gi":"g"),o)},t.fn.serializeObject=function(){var o={};return t.each(t(this).serializeArray(),function(a,n){void 0!==o[n.name]?(t.isArray(o[n.name])||(o[n.name]=[o[n.name]]),o[n.name].push(n.value)):o[n.name]=n.value}),o},t.fn.placeholder=function(o){return t(this).each(function(){var a=t(this),n=a.attr("placeholder"),e=a.data("color")||a.css("color"),r=function(){a.css("color",o).val(n).data("length",!1)};void 0!==n&&(""===n&&(n="请输入内容"),void 0===o&&(o="#999999"),a.data("length")||(void 0===a.data("length")&&a.val().length?a.data("length",!0):r()),a.off(".placeholder").on({"focus.placeholder":function(){a.data("length")||a.css("color",e).val("")},"blur.placeholder":function(){a.val().length?t.trim(a.val())===n?r():a.css("color",e).data("length",!0):r()}}).data("color",e).removeAttr("placeholder").triggerHandler("blur.placeholder"))})},t.fn.anchor=function(a){var n,e=t(this),r=e.data("id")||(new Date).getTime(),c={position:e.css("position"),display:e.css("display"),top:e.css("top")};return e.data("id",r),a=a||{},a.anchor=a.anchor||e,a.anchor=a.anchor instanceof t?a.anchor:t(a.anchor),n=a.anchor.offset(),o.off(".anchor"+r).on("scroll.anchor"+r+" resize.anchor"+r,function(){o.height()-e.outerHeight()>0&&o.scrollTop()>n.top+(a.isBottom?a.anchor.height():0)?e.data("anchor")||e.css(t.extend({},c,{position:"fixed",display:"block",top:0})).data("anchor",!0):e.data("anchor")&&(e.css(c).data("anchor",!1),n=a.anchor.offset())}).triggerHandler("scroll.anchor"+r),e},t.fn.boxCut=function(a){return t(this).each(function(){var n,e=t(this),r=e.data("id")||(new Date).getTime();e.data("text",e.text()).data("id",r),o.off(".anchor"+r).on("resize.anchor"+r,function(){if(n=e.data("text"),e.text(n),e.height()>a){do n=e.text(),e.text(n.substring(0,n.length-1));while(e.height()>a);n=n.substring(0,n.length-2),e.text(n+"…")}}).triggerHandler("resize.anchor"+r)})}}($);